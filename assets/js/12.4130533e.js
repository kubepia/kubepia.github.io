(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{306:function(s,t,a){s.exports=a.p+"assets/img/2020-05-24-23-44-11.956f84ad.png"},307:function(s,t,a){s.exports=a.p+"assets/img/2020-05-24-23-50-21.2230470e.png"},308:function(s,t,a){s.exports=a.p+"assets/img/2020-05-25-00-05-23.6581365f.png"},309:function(s,t,a){s.exports=a.p+"assets/img/2020-05-25-00-08-13.ac77116a.png"},310:function(s,t,a){s.exports=a.p+"assets/img/2020-05-25-00-13-26.0984f635.png"},311:function(s,t,a){s.exports=a.p+"assets/img/2020-05-25-00-20-55.fd49f4d2.png"},312:function(s,t,a){s.exports=a.p+"assets/img/2020-05-25-00-25-34.41bab557.png"},424:function(s,t,a){"use strict";a.r(t);var e=a(17),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"infra-servers-sslkey-구성"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#infra-servers-sslkey-구성"}},[s._v("#")]),s._v(" Infra Servers-SSLKey 구성")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("TASK DESCRIPTION")]),s._v(" "),e("p",[s._v("SSL Key를 생성합니다."),e("br"),s._v("\n각 VM을 ssh로 쉽게 접근하게 하기 위해 SSL public key를 각 VM에 복사합니다.")]),s._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#ssl-key-생성"}},[s._v("SSL Key 생성")])]),e("li",[e("a",{attrs:{href:"#public-ssl-key-복사"}},[s._v("Public SSL Key 복사")])]),e("li",[e("a",{attrs:{href:"#config파일-생성"}},[s._v("Config파일 생성")])]),e("li",[e("a",{attrs:{href:"#테스트"}},[s._v("테스트")])])])]),e("p")]),s._v(" "),e("h2",{attrs:{id:"ssl-key-생성"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssl-key-생성"}},[s._v("#")]),s._v(" SSL Key 생성")]),s._v(" "),e("p",[s._v("Terminal 또는 ssh명령으로 bastion VM을 접근합니다."),e("br"),s._v("\nTest용 SSL Key를 생성합니다.")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ ssh-keygen -b 4096 -t rsa\n")])])]),e("p",[e("img",{attrs:{src:a(306),alt:""}})]),s._v(" "),e("p",[s._v("현재 user의 HOME디렉토리 하위에 '.ssh'라는 디렉토리가 생깁니다."),e("br"),s._v("\n그 디렉토리에 private key파일인 id_rsa와 public key파일인 id_rsa.pub가 생성됩니다.")]),s._v(" "),e("p",[e("img",{attrs:{src:a(307),alt:""}})]),s._v(" "),e("h2",{attrs:{id:"public-ssl-key-복사"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#public-ssl-key-복사"}},[s._v("#")]),s._v(" Public SSL Key 복사")]),s._v(" "),e("p",[s._v("ssh로 접근할 각 VM에 public ssl key파일을 복사합니다.")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ ssh-copy-id -i ~/.ssh/id_rsa.pub root@<대상 VM IP>\n")])])]),e("p",[e("img",{attrs:{src:a(308),alt:""}})]),s._v(" "),e("blockquote",[e("p",[e("strong",[s._v("참고")]),s._v(" "),e("br"),s._v("\n대상 VM node에는 .ssh/authorized_keys라는 파일로 복사됩니다."),e("br"),s._v(" "),e("img",{attrs:{src:a(309),alt:""}})])]),s._v(" "),e("h2",{attrs:{id:"config파일-생성"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#config파일-생성"}},[s._v("#")]),s._v(" Config파일 생성")]),s._v(" "),e("p",[s._v("각 VM의 정보를 담고 있는 Config파일을 생성합니다.")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Host <VM alias>\n    HostName <VM IP>\n    Port <SSH PORT>\n    User <User ID>\n    IdentityFile <Private SSL Key파일 경로>\n")])])]),e("p",[s._v("예제)"),e("br"),s._v(" "),e("img",{attrs:{src:a(310),alt:""}})]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("Local Mac에서 Config설정")]),s._v(" "),e("p",[s._v("Mac에서 bastion서버를 쉽게 접근하기 위해"),e("br"),s._v("\n아래 예와같이 Local Mac의 ~/.ssh/config파일을 생성합니다."),e("br"),s._v("\n미리 private key파일은(~/.ssh/keys/seromi_rsa)다운로드 해야 합니다.")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Host seromi\n    HostName 61.78.152.243\n    Port 19022\n    User root\n    IdentityFile ~/.ssh/keys/seromi_rsa\n")])])])]),s._v(" "),e("h2",{attrs:{id:"테스트"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#테스트"}},[s._v("#")]),s._v(" 테스트")]),s._v(" "),e("ul",[e("li",[e("p",[e("strong",[s._v("bastion VM에서 테스트")]),s._v("\nssh나 scp명령 사용 시 이제는 암호를 묻지 않고 바로 접근이 됩니다."),e("br"),s._v(" "),e("img",{attrs:{src:a(311),alt:""}})])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("Mac에서 테스트")]),s._v("\nMac에 config파일을 만들었다면, 아래와 같이 ssh로 bastion서버 접근이 되는지 테스트 합니다."),e("br"),s._v(" "),e("img",{attrs:{src:a(312),alt:""}})])])]),s._v(" "),e("hr"),s._v(" "),e("disqus")],1)}),[],!1,null,null,null);t.default=r.exports}}]);