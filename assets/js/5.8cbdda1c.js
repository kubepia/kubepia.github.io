(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{258:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-14-23.879ca949.png"},259:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-16-57.46f6812d.png"},260:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-20-09.eeb855aa.png"},261:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-21-33.ad04e609.png"},262:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-24-51.e18a7cac.png"},263:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-27-20.de474be0.png"},264:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-27-51.4df85ca1.png"},265:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-28-58.7e38be2f.png"},266:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-30-28.fc1297c9.png"},267:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-32-24.20d6a03d.png"},268:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-33-02.8caa9776.png"},269:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-44-04.93085b10.png"},270:function(t,a,e){t.exports=e.p+"assets/img/2020-05-27-00-21-43.4dbbebf2.png"},271:function(t,a,e){t.exports=e.p+"assets/img/2020-05-27-00-30-01.77234681.png"},272:function(t,a,e){t.exports=e.p+"assets/img/2020-05-27-00-40-52.7a6e0765.png"},273:function(t,a,e){t.exports=e.p+"assets/img/2020-05-27-00-34-28.b7bee4a2.png"},274:function(t,a,e){t.exports=e.p+"assets/img/2020-05-26-23-50-09.48f0f345.png"},275:function(t,a,e){t.exports=e.p+"assets/img/2020-05-27-00-17-34.924adc03.png"},276:function(t,a,e){t.exports=e.p+"assets/img/2020-05-27-00-49-21.a2f5309a.png"},277:function(t,a,e){t.exports=e.p+"assets/img/2020-05-27-00-50-14.5f79d225.png"},278:function(t,a,e){t.exports=e.p+"assets/img/2020-05-27-00-51-29.9da14ff7.png"},279:function(t,a,e){t.exports=e.p+"assets/img/2020-05-27-00-53-24.07e9678d.png"},435:function(t,a,e){"use strict";e.r(a);var s=e(17),l=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ocp-cp4app-설치"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ocp-cp4app-설치"}},[t._v("#")]),t._v(" OCP-CP4App 설치")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TASK DESCRIPTION")]),t._v(" "),s("p",[t._v("CP4App 컴포넌트를 설치합니다."),s("br"),t._v("\n컴포넌트에는 Accelerators for Teams(=kabanero), Application Navigator, Transformation Advisor, Mobile Foundation이 있습니다.")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#config-yaml-수정"}},[t._v("config.yaml 수정")])]),s("li",[s("a",{attrs:{href:"#ocp-pull-secret추가"}},[t._v("OCP pull secret추가")])]),s("li",[s("a",{attrs:{href:"#installer-실행"}},[t._v("Installer 실행")])]),s("li",[s("a",{attrs:{href:"#cp4app-web-console-접근"}},[t._v("CP4App Web Console 접근")])]),s("li",[s("a",{attrs:{href:"#tip-consolelink-추가하기"}},[t._v("TIP: ConsoleLink 추가하기")])])])]),s("p")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("설치 시 "),s("a",{attrs:{href:"https://happycloud-lee.tistory.com/119",target:"_blank",rel:"noopener noreferrer"}},[t._v("screen: 가상터미널을 이용한 백그라운드 명령 실행"),s("OutboundLink")],1),t._v("을 이용하여 보십시오."),s("br"),t._v("\n실수나 네트워크 단절로 Terminal이 끊어져도 안전하게 설치를 진행할 수 있습니다.")])]),t._v(" "),s("h2",{attrs:{id:"config-yaml-수정"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config-yaml-수정"}},[t._v("#")]),t._v(" config.yaml 수정")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("설치 디렉토리로 이동")]),s("br"),t._v(" "),s("a",{attrs:{href:"https://kubepia.github.io/cloudpak/cp4app/install/cp4app01.html#%EC%84%A4%EC%B9%98-configuration-files-%EC%83%9D%EC%84%B1",target:"_blank",rel:"noopener noreferrer"}},[t._v("IBM Common Service설치 > 설치 Configuration파일 생성"),s("OutboundLink")],1),t._v("시 생성했던 설치 디렉토리로 이동합니다."),s("br"),t._v("\n그리고 config.yaml파일을 오픈합니다.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("TA config값 제거")]),s("br"),t._v("\nconfig항목에 있는 yaml파일명을 빈 문자열로 변경합니다.")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("현재")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("변경")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(258),alt:""}})]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(259),alt:""}})])])])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("A4T(Accelerators for Teams)정보 입력")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("github에 Organization 생성"),s("br"),t._v("\nappsody stack이 저장될 github organization을 만듭니다.")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("Task")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("내용")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("New Organization클릭")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(260),alt:""}})])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Organization 정보 입력")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(261),alt:""}})])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Organization 초기화면")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(262),alt:""}})])])])])]),t._v(" "),s("li",[s("p",[t._v("Organization 하위에 Team 생성"),s("br"),t._v("\nappsody stack이 저장될 organization하위의 Team을 만듭니다.")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("Task")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("내용")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Teams탭 선택 후 [New Team]클릭")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(263),alt:""}})])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Team 정보 입력")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(264),alt:""}})])])])])]),t._v(" "),s("li",[s("p",[t._v("github access token 생성")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("Task")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("내용")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Settings 클릭")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(265),alt:""}})])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("좌측 맨 하단의 Developer settings클릭")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(266),alt:""}})])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("[Generate Token]클릭->이름, repo체크")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(267),alt:""}})])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Access Token 복사")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("img",{attrs:{src:e(268),alt:""}})])])])])]),t._v(" "),s("li",[s("p",[t._v("config.yaml의 teams항목에 위에서 생성한 값을 입력합니다."),s("br"),t._v(" "),s("img",{attrs:{src:e(269),alt:""}})])])])])]),t._v(" "),s("h2",{attrs:{id:"ocp-pull-secret추가"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ocp-pull-secret추가"}},[t._v("#")]),t._v(" OCP pull secret추가")]),t._v(" "),s("p",[t._v("이 단계는 설치 가이드에는 없습니다."),s("br"),t._v("\n하지만 이 단계를 생략하면 아래와 같이 image pulling에러가 발생합니다."),s("br"),t._v("\n원인은 CP4App의 Pod에서 'gcr.io'라는 registry의 image를 pulling할 수 있는 인증token이 없기 때문입니다."),s("br"),t._v(" "),s("img",{attrs:{src:e(270),alt:""}})]),t._v(" "),s("p",[t._v("Workaround로 아래와 같이 OCP의 Secret 'pull-secret'에 인증 token을 추가하십시오.")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Namespace 'openshift-config'의 Secret 'pull-secret'오픈")]),s("br"),t._v(" "),s("img",{attrs:{src:e(271),alt:""}})]),t._v(" "),s("li",[s("strong",[t._v("'cp.icr.io'에 대한 인증token값을 추가")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://kubepia.github.io/cloudpak/cp4app/install/cp4app01.html#ibm-common-service-%EC%84%A4%EC%B9%98",target:"_blank",rel:"noopener noreferrer"}},[t._v("Common Service 설치 configuration files 생성"),s("OutboundLink")],1),t._v("에서 ENTITLED_REGISTRY_USER와 ENTITLED_REGISTRY_KEY값을 구합니다.")]),t._v(" "),s("li",[t._v("ENTITLED_REGISTRY_USER:ENTITLED_REGISTRY_KEY값을 base64 인코딩합니다."),s("br"),t._v(" "),s("img",{attrs:{src:e(272),alt:""}})]),t._v(" "),s("li",[t._v("pull-secret에 추가합니다."),s("br"),t._v(" "),s("img",{attrs:{src:e(273),alt:""}})])])])]),t._v(" "),s("h2",{attrs:{id:"installer-실행"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installer-실행"}},[t._v("#")]),t._v(" Installer 실행")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("cluster 로그인")])])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ oc login https://<your_api_cluster_url> -u <username> -p <password>\n예) oc login https://api.hcis.kubepia.com -u kubeadmin -p ********** \n")])])]),s("ul",[s("li",[s("strong",[t._v("설치준비 체크")]),s("br"),t._v("\n'icpa-installer:4.1.1'은 설치 버전에 맞게 수정하십시오.")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('$ docker run -v ~/.kube:/root/.kube:z -u 0 -t \\\n           -v $PWD/data:/installer/data:z \\\n           -e LICENSE=accept \\\n           -e ENTITLED_REGISTRY -e ENTITLED_REGISTRY_USER -e ENTITLED_REGISTRY_KEY \\\n           "$ENTITLED_REGISTRY/cp/icpa/icpa-installer:4.1.1" check\n')])])]),s("p",[s("img",{attrs:{src:e(274),alt:""}})]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("설치 시작")]),t._v("\n'icpa-installer:4.1.1'은 설치 버전에 맞게 수정하십시오.")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('$ docker run -v ~/.kube:/root/.kube:z -u 0 -t \\\n           -v $PWD/data:/installer/data:z \\\n           -e LICENSE=accept \\\n           -e ENTITLED_REGISTRY -e ENTITLED_REGISTRY_USER -e ENTITLED_REGISTRY_KEY \\\n           "$ENTITLED_REGISTRY/cp/icpa/icpa-installer:4.1.1" install\n')])])]),s("blockquote",[s("p",[s("strong",[t._v("참고")]),s("br"),t._v("\n설치 시 아래와 같이 Fail이 날 수 있습니다."),s("br"),t._v("\n장시간 소요되는 step인 경우 발생할 수 있습니다."),s("br"),t._v("\n이 경우 위 install 명령을 다시 실행하십시오."),s("br"),t._v(" "),s("img",{attrs:{src:e(275),alt:""}})])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("설치 완료 확인")])])]),t._v(" "),s("p",[s("img",{attrs:{src:e(276),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"cp4app-web-console-접근"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cp4app-web-console-접근"}},[t._v("#")]),t._v(" CP4App Web Console 접근")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("OCP Web console로그인 후 'Cloud Pak Console'메뉴 클릭")]),s("br"),t._v(" "),s("img",{attrs:{src:e(277),alt:""}})])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("CP4App 초기화면")]),s("br"),t._v(" "),s("img",{attrs:{src:e(278),alt:""}})])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("CP4App 메뉴화면")]),s("br"),t._v(" "),s("img",{attrs:{src:e(279),alt:""}})])])]),t._v(" "),s("h2",{attrs:{id:"tip-consolelink-추가하기"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tip-consolelink-추가하기"}},[t._v("#")]),t._v(" TIP: ConsoleLink 추가하기")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://happycloud-lee.tistory.com/120",target:"_blank",rel:"noopener noreferrer"}},[t._v("OCP ConsoleLink(ApplicationMenu) 추가"),s("OutboundLink")],1),t._v("을 참조하여 자주 사용하는 메뉴를 추가하시기 바랍니다.")]),t._v(" "),s("hr"),t._v(" "),s("disqus")],1)}),[],!1,null,null,null);a.default=l.exports}}]);